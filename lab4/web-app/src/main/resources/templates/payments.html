{#include base}
    {#title}Payments - Banking System{/title}
    {#content}
        <h2 style="margin-bottom: 20px; color: #333;">
            {#if accountId}
                Payments for Account #{accountId}
            {#else}
                All Payments
            {/if}
        </h2>
        {#if error}
            <div class="error">{error}</div>
        {/if}
        {#if accountId}
            <p style="margin-bottom: 15px;">
                <a href="/payments" style="color: #667eea; text-decoration: none; font-weight: 500;">&larr; Back to all payments</a>
            </p>
        {/if}
        {#if payments}
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Account ID</th>
                        <th>Payment Method</th>
                        <th>Amount</th>
                        <th>Status</th>
                        <th>Created At</th>
                    </tr>
                </thead>
                <tbody>
                    {#for payment in payments}
                        <tr>
                            <td>{payment.id}</td>
                            <td>{payment.accountId}</td>
                            <td>{payment.paymentMethod}</td>
                            <td>{payment.amount}</td>
                            <td>
                                {#if payment.status == 'COMPLETED'}
                                    <span class="badge badge-success">{payment.status}</span>
                                {#else if payment.status == 'PENDING'}
                                    <span class="badge badge-pending">{payment.status}</span>
                                {#else}
                                    <span class="badge badge-failed">{payment.status}</span>
                                {/if}
                            </td>
                            <td>{payment.createdAt}</td>
                        </tr>
                    {/for}
                </tbody>
            </table>
        {#else}
            <p>No payments found.</p>
        {/if}
    {/content}
{/include}
